{"version":3,"sources":["reportWebVitals.ts","components/atoms/log/Log.tsx","pages/logs/Logs.tsx","components/atoms/task/Task.tsx","pages/tracker/Tracker.tsx","repositories/localStrage.ts","components/molecules/header/Header.tsx","components/molecules/Footer/Footer.tsx","Sink.tsx","index.tsx"],"names":["reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","Log","props","taskName","Box","formatDate","logs","length","startHour","Date","start","getHours","endHour","slice","end","formatLogs","ret","i","prev","forEach","log","push","Logs","display","flexDirection","reverse","map","Task","handler","className","justifyContent","Button","onClick","Tracker","repo","setLogs","useState","setTaskName","getTime","time","setTime","getCurrentTaskName","currentTaskName","setCurrentTaskName","getIsWorking","isWorking","setIsWorking","getHistory","history","setHistory","switchTask","stopTask","now","act","newHistory","filter","v","addHistory","stopTime","newLog","duration","handleClick_playButton","TextField","id","value","onChange","event","target","label","t","repository","localStorage","setItem","parseInt","getItem","JSON","stringify","parse","getLogs","Header","to","Footer","PageTemplate","height","flexGrow","inner","Sink","fallback","exact","path","render","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.dad4901c.chunk.js","sourcesContent":["import { ReportHandler } from 'web-vitals';\r\n\r\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React, { useState } from 'react';\r\nimport TextField from '@material-ui/core/TextField'\r\nimport Button from '@material-ui/core/Button'\r\nimport Box from '@material-ui/core/Box'\r\n\r\nexport function Log(props: { taskName: string }) {\r\n    const { taskName } = props\r\n    return (\r\n        <Box>\r\n            {taskName}\r\n        </Box>\r\n    );\r\n}\r\n","import React from 'react';\r\nimport Box from '@material-ui/core/Box';\r\nimport { Log as ILog } from '../../interfaces/log';\r\nimport { Log } from '../../components/atoms/log/Log';\r\n\r\nexport const formatDate = (logs: ILog[]): string => {\r\n    if (logs.length === 0) return '';\r\n    const startHour: number = new Date(logs[0].start).getHours()\r\n    const endHour: number = new Date(logs.slice(-1)[0].end).getHours()\r\n    return `# ${startHour}:00 - ${endHour + 1}:00`;\r\n}\r\n\r\nexport const formatLogs = (logs: ILog[]): ILog[][] => {\r\n    if (logs.length === 0) return [[]];\r\n\r\n    const ret: ILog[][] = [[]]\r\n    let i = 0\r\n    let prev = new Date(logs[0].start).getHours()\r\n    logs.forEach((log: ILog) => {\r\n        const start = new Date(log.start).getHours()\r\n        if (prev === start) {\r\n            ret[i].push(log)\r\n        } else if (ret[i].length === 0) {\r\n            ret[i].push(log)\r\n            prev = start\r\n        } else {\r\n            i++\r\n            ret[i] = []\r\n            ret[i].push(log)\r\n            prev = start\r\n        }\r\n    })\r\n    return ret\r\n}\r\n\r\nexport function Logs(props: { logs: ILog[] }) {\r\n    const { logs } = props\r\n    return (\r\n        <Box display=\"flex\" flexDirection=\"column\">\r\n            {formatLogs(logs).reverse().map(logs =>\r\n                <div>\r\n                    <div>{formatDate(logs)}</div>\r\n                    {logs.reverse().map(log => <Log taskName={log.taskName} />)}\r\n                </div>)}\r\n        </Box>\r\n    );\r\n}\r\n","import React, { useState } from 'react';\r\nimport TextField from '@material-ui/core/TextField'\r\nimport Button from '@material-ui/core/Button'\r\nimport Box from '@material-ui/core/Box'\r\nimport './Task.css';\r\n\r\nexport function Task(props: { taskName: string, handler: (taskName: string) => void }) {\r\n    const { taskName, handler } = props\r\n    return (\r\n        <Box className=\"task\" display=\"flex\" justifyContent=\"space-between\">\r\n            <div>{taskName}</div>\r\n            <Button onClick={() => { return handler(taskName) }}>\r\n                <span className=\"material-icons\">play_arrow</span>\r\n            </Button>\r\n        </Box>\r\n    );\r\n}\r\n","import React, { Dispatch, SetStateAction, useState } from 'react';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Button from '@material-ui/core/Button';\r\nimport Box from '@material-ui/core/Box';\r\nimport { Task } from '../../components/atoms/task/Task';\r\nimport { Log } from '../../interfaces/log';\r\nimport { IRepository } from '../../interfaces/IRepository';\r\n\r\n\r\nexport function Tracker(props: { repo: IRepository, setLogs: Dispatch<SetStateAction<Log[]>>, logs: Log[] }) {\r\n    const { repo, setLogs, logs } = props\r\n    const [taskName, setTaskName] = useState('')\r\n    const [time, setTime] = useState(repo.getTime())\r\n    const [currentTaskName, setCurrentTaskName] = useState(repo.getCurrentTaskName())\r\n    const [isWorking, setIsWorking] = useState(repo.getIsWorking())\r\n    const [history, setHistory]: [string[], Dispatch<SetStateAction<string[]>>] = useState(repo.getHistory())\r\n\r\n    const handleChange_taskName = (event: React.ChangeEvent<HTMLInputElement>) => {\r\n        setTaskName(event.target.value);\r\n    };\r\n\r\n    const act = (taskName: string): void => {\r\n        setCurrentTaskName(taskName)\r\n        repo.setCurrentTaskName(taskName)\r\n\r\n        const time = Date.now()\r\n        setTime(time)\r\n        repo.setTime(time)\r\n\r\n        setIsWorking(true)\r\n        repo.setIsWorking(true)\r\n\r\n        setTaskName('')\r\n    }\r\n\r\n    const addHistory = (taskName: string): void => {\r\n        const newHistory = [taskName, ...history.filter(v => v !== taskName)]\r\n\r\n        setHistory(newHistory)\r\n        repo.setHistory(newHistory)\r\n    }\r\n\r\n    const switchTask = (taskName: string): void => {\r\n        if (currentTaskName === taskName || taskName === '') { return setTaskName('') };\r\n\r\n        if (isWorking) { stopTask() }\r\n\r\n        act(taskName)\r\n\r\n        addHistory(taskName)\r\n    }\r\n\r\n    const stopTask = (): void => {\r\n        const stopTime = Date.now()\r\n        const log: Log = {\r\n            taskName: currentTaskName,\r\n            start: time,\r\n            end: stopTime,\r\n            duration: stopTime - time,\r\n        }\r\n        const newLog = [log, ...logs]\r\n\r\n        setLogs(newLog)\r\n        repo.setLogs(newLog)\r\n\r\n        setIsWorking(false)\r\n        repo.setIsWorking(false)\r\n\r\n        setCurrentTaskName('')\r\n        repo.setCurrentTaskName('')\r\n    }\r\n\r\n    const handleClick_actButton = () => {\r\n        switchTask(taskName)\r\n    }\r\n    const handleClick_playButton = (taskName: string) => {\r\n        switchTask(taskName)\r\n    }\r\n    const handleClick_stopButton = () => {\r\n        stopTask()\r\n    }\r\n\r\n\r\n    return (\r\n        <Box display=\"flex\" className=\"Tracker\">\r\n            <Box display=\"flex\" flexDirection=\"column\">\r\n                <Box display=\"flex\">\r\n                    Task: {currentTaskName}\r\n                    {isWorking ? <Button onClick={handleClick_stopButton}><span className=\"material-icons\">stop</span></Button> : void 0}\r\n                </Box>\r\n                <Box display=\"flex\">\r\n                    <TextField\r\n                        id=\"standard-basic\"\r\n                        value={taskName}\r\n                        onChange={handleChange_taskName}\r\n                        label=\"new task\" />\r\n                    <Button onClick={handleClick_actButton}>act</Button>\r\n                </Box>\r\n                <Box display=\"flex\" flexDirection=\"column\">\r\n                    {history.map(t => <Task taskName={t} handler={handleClick_playButton}></Task>)}\r\n                </Box>\r\n            </Box>\r\n        </Box>\r\n    );\r\n}\r\n","import { IRepository } from '../interfaces/IRepository'\r\nimport { Log } from '../interfaces/log'\r\n\r\nexport const repository: IRepository = {\r\n    setTime: (time: number) => {\r\n        localStorage.setItem('time', `${time}`)\r\n    },\r\n    getTime: () => {\r\n        return parseInt(localStorage.getItem('time') || '0')\r\n    },\r\n    setCurrentTaskName: (currentTaskName: string) => {\r\n        localStorage.setItem('currentTaskName', currentTaskName)\r\n    },\r\n    getCurrentTaskName: () => {\r\n        return localStorage.getItem('currentTaskName') || ''\r\n    },\r\n    setIsWorking: (isWorking: boolean) => {\r\n        localStorage.setItem('isWorking', `${isWorking}`)\r\n    },\r\n    getIsWorking: () => {\r\n        return localStorage.getItem('isWorking') === 'true'\r\n    },\r\n    setHistory: (history: string[]) => {\r\n        localStorage.setItem('history', JSON.stringify(history))\r\n    },\r\n    getHistory: () => {\r\n        return JSON.parse(localStorage.getItem('history') || '[]')\r\n    },\r\n    setLogs: (logs: Log[]) => {\r\n        localStorage.setItem('logs', JSON.stringify(logs))\r\n    },\r\n    getLogs: () => {\r\n        return JSON.parse(localStorage.getItem('logs') || '[]')\r\n    },\r\n}","import React from 'react';\r\nimport Box from '@material-ui/core/Box'\r\nimport { Link } from 'react-router-dom';\r\n\r\n\r\nexport function Header() {\r\n    return (\r\n        <Box>\r\n            <Box>sink <Link to=\"/sink/tracker\">tracker</Link> <Link to=\"/sink/logs\">logs</Link></Box>\r\n        </Box>\r\n    );\r\n}","import React from 'react';\r\nimport Box from '@material-ui/core/Box'\r\n\r\n\r\nexport function Footer() {\r\n    return (\r\n        <Box>\r\n            ver0.1.2\r\n        </Box>\r\n    );\r\n}\r\n","import Box from '@material-ui/core/Box';\r\nimport React, { Dispatch, SetStateAction, Suspense, useState } from 'react';\r\nimport { BrowserRouter, Link, Route, Switch } from 'react-router-dom';\r\nimport { Logs } from './pages/logs/Logs';\r\nimport { Log } from './interfaces/log';\r\nimport { Tracker } from './pages/tracker/Tracker';\r\nimport { repository } from './repositories/localStrage';\r\nimport { Header } from './components/molecules/header/Header';\r\nimport { Footer } from './components/molecules/Footer/Footer';\r\n\r\nfunction PageTemplate(props: { inner: () => JSX.Element }) {\r\n    return <Box display=\"flex\" flexDirection=\"column\" justifyContent=\"space-between\" height=\"100vh\">\r\n        <Header />\r\n        <Box flexGrow=\"1\">\r\n            {props.inner()}\r\n        </Box>\r\n        <Footer />\r\n    </Box>\r\n}\r\n\r\nexport function Sink() {\r\n    const [logs, setLogs]: [Log[], Dispatch<SetStateAction<Log[]>>] = useState(repository.getLogs)\r\n\r\n    return (\r\n        <BrowserRouter>\r\n            <Suspense fallback={<div>Loading...</div>}>\r\n                <Switch>\r\n                    <Route exact path=\"/sink/tracker\" render={() => <PageTemplate inner={() => <Tracker repo={repository} setLogs={setLogs} logs={logs} />} />} />\r\n                    <Route exact path=\"/sink/logs\" render={() => <PageTemplate inner={() => <Logs logs={logs} />} />} />\r\n                    <Route path=\"/sink/\" render={() => <PageTemplate inner={() => <Tracker repo={repository} setLogs={setLogs} logs={logs} />} />} />\r\n                </Switch>\r\n            </Suspense>\r\n        </BrowserRouter>\r\n    );\r\n}\r\n","import React, { Suspense } from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport reportWebVitals from './reportWebVitals';\r\nimport { Sink } from './Sink';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <Sink />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();"],"sourceRoot":""}
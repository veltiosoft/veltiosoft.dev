(this.webpackJsonpsink=this.webpackJsonpsink||[]).push([[0],{62:function(e,t,n){},63:function(e,t,n){},70:function(e,t,n){"use strict";n.r(t);var a=n(6),c=n(0),r=n.n(c),s=n(8),i=n.n(s),o=(n(62),function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,104)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,r=t.getLCP,s=t.getTTFB;n(e),a(e),c(e),r(e),s(e)}))}),l=n(46),u=n(10),j=n(42),g=n(24),f=n(98),d=n(101),b=n(100);n(63);function O(e){var t=e.taskName,n=e.handler;return Object(a.jsxs)(b.a,{className:"task",display:"flex",justifyContent:"space-between",children:[Object(a.jsx)("div",{children:t}),Object(a.jsx)(d.a,{onClick:function(){return n(t)},children:Object(a.jsx)("span",{className:"material-icons",children:"play_arrow"})})]})}function m(e){var t=e.repo,n=Object(c.useState)(""),r=Object(g.a)(n,2),s=r[0],i=r[1],o=Object(c.useState)(t.getTime()),l=Object(g.a)(o,2),u=l[0],m=l[1],h=Object(c.useState)(t.getCurrentTaskName()),x=Object(g.a)(h,2),k=x[0],p=x[1],S=Object(c.useState)(t.getIsWorking()),v=Object(g.a)(S,2),N=v[0],y=v[1],I=Object(c.useState)(t.getHistory()),T=Object(g.a)(I,2),C=T[0],w=T[1],D=Object(c.useState)(t.getLogs),H=Object(g.a)(D,2),L=H[0],W=H[1],J=function(e){if(k===e||""===e)return i("");N&&F(),function(e){p(e),t.setCurrentTaskName(e);var n=Date.now();m(n),t.setTime(n),y(!0),t.setIsWorking(!0),i("")}(e),function(e){var n=[e].concat(Object(j.a)(C.filter((function(t){return t!==e}))));w(n),t.setHistory(n)}(e)},F=function(){var e=Date.now(),n=[{taskName:k,start:u,end:e,duration:e-u}].concat(Object(j.a)(L));W(n),t.setLogs(n),y(!1),t.setIsWorking(!1),p(""),t.setCurrentTaskName("")},B=function(e){J(e)},E=function(e){if(0===e.length)return"";var t=new Date(e[0].start).getHours(),n=new Date(e.slice(-1)[0].end).getHours();return"# ".concat(t,":00 - ").concat(n+1,":00")};return Object(a.jsxs)(b.a,{display:"flex",className:"Tracker",children:[Object(a.jsxs)(b.a,{display:"flex",flexDirection:"column",children:[Object(a.jsxs)(b.a,{display:"flex",children:["Task: ",k,N?Object(a.jsx)(d.a,{onClick:function(){F()},children:Object(a.jsx)("span",{className:"material-icons",children:"stop"})}):void 0]}),Object(a.jsxs)(b.a,{display:"flex",children:[Object(a.jsx)(f.a,{id:"standard-basic",value:s,onChange:function(e){i(e.target.value)},label:"new task"}),Object(a.jsx)(d.a,{onClick:function(){J(s)},children:"act"})]}),Object(a.jsx)(b.a,{display:"flex",flexDirection:"column",children:C.map((function(e){return Object(a.jsx)(O,{taskName:e,handler:B})}))})]}),Object(a.jsxs)(b.a,{display:"flex",flexDirection:"column",children:[Object(a.jsx)("div",{children:"Logs"}),function(e){if(0===e.length)return[[]];var t=[[]],n=0,a=new Date(e[0].start).getHours();return e.forEach((function(e){var c=new Date(e.start).getHours();a===c?t[n].push(e):0===t[n].length?(t[n].push(e),a=c):(n++,t[n]=[],a=c)})),t}(L).reverse().map((function(e){return Object(a.jsxs)("div",{children:[Object(a.jsx)("div",{children:E(e)}),e.reverse().map((function(e){return Object(a.jsxs)("div",{children:["- ",e.taskName]})}))]})}))]})]})}var h={setTime:function(e){localStorage.setItem("time","".concat(e))},getTime:function(){return parseInt(localStorage.getItem("time")||"0")},setCurrentTaskName:function(e){localStorage.setItem("currentTaskName",e)},getCurrentTaskName:function(){return localStorage.getItem("currentTaskName")||""},setIsWorking:function(e){localStorage.setItem("isWorking","".concat(e))},getIsWorking:function(){return"true"===localStorage.getItem("isWorking")},setHistory:function(e){localStorage.setItem("history",JSON.stringify(e))},getHistory:function(){return JSON.parse(localStorage.getItem("history")||"[]")},setLogs:function(e){localStorage.setItem("logs",JSON.stringify(e))},getLogs:function(){return JSON.parse(localStorage.getItem("logs")||"[]")}};function x(){return Object(a.jsx)(l.a,{children:Object(a.jsx)(c.Suspense,{fallback:Object(a.jsx)("div",{children:"Loading..."}),children:Object(a.jsx)(u.c,{children:Object(a.jsx)(u.a,{exact:!0,path:"/sink/",render:function(){return Object(a.jsx)(m,{repo:h})}})})})})}i.a.render(Object(a.jsx)(r.a.StrictMode,{children:Object(a.jsx)(x,{})}),document.getElementById("root")),o()}},[[70,1,2]]]);
//# sourceMappingURL=main.51fbf63d.chunk.js.map
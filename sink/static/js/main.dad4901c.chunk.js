(this.webpackJsonpsink=this.webpackJsonpsink||[]).push([[0],{62:function(e,t,n){},66:function(e,t,n){},70:function(e,t,n){"use strict";n.r(t);var r=n(4),c=n(0),s=n.n(c),a=n(8),i=n.n(a),o=(n(62),function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,104)).then((function(t){var n=t.getCLS,r=t.getFID,c=t.getFCP,s=t.getLCP,a=t.getTTFB;n(e),r(e),c(e),s(e),a(e)}))}),u=n(23),l=n(100),j=n(34),f=n(10);function g(e){var t=e.taskName;return Object(r.jsx)(l.a,{children:t})}var b=function(e){if(0===e.length)return"";var t=new Date(e[0].start).getHours(),n=new Date(e.slice(-1)[0].end).getHours();return"# ".concat(t,":00 - ").concat(n+1,":00")},O=function(e){if(0===e.length)return[[]];var t=[[]],n=0,r=new Date(e[0].start).getHours();return e.forEach((function(e){var c=new Date(e.start).getHours();r===c?t[n].push(e):0===t[n].length?(t[n].push(e),r=c):(n++,t[n]=[],t[n].push(e),r=c)})),t};function d(e){var t=e.logs;return Object(r.jsx)(l.a,{display:"flex",flexDirection:"column",children:O(t).reverse().map((function(e){return Object(r.jsxs)("div",{children:[Object(r.jsx)("div",{children:b(e)}),e.reverse().map((function(e){return Object(r.jsx)(g,{taskName:e.taskName})}))]})}))})}var x=n(44),h=n(98),m=n(101);n(66);function k(e){var t=e.taskName,n=e.handler;return Object(r.jsxs)(l.a,{className:"task",display:"flex",justifyContent:"space-between",children:[Object(r.jsx)("div",{children:t}),Object(r.jsx)(m.a,{onClick:function(){return n(t)},children:Object(r.jsx)("span",{className:"material-icons",children:"play_arrow"})})]})}function p(e){var t=e.repo,n=e.setLogs,s=e.logs,a=Object(c.useState)(""),i=Object(u.a)(a,2),o=i[0],j=i[1],f=Object(c.useState)(t.getTime()),g=Object(u.a)(f,2),b=g[0],O=g[1],d=Object(c.useState)(t.getCurrentTaskName()),p=Object(u.a)(d,2),v=p[0],S=p[1],N=Object(c.useState)(t.getIsWorking()),y=Object(u.a)(N,2),I=y[0],T=y[1],C=Object(c.useState)(t.getHistory()),w=Object(u.a)(C,2),D=w[0],L=w[1],H=function(e){if(v===e||""===e)return j("");I&&W(),function(e){S(e),t.setCurrentTaskName(e);var n=Date.now();O(n),t.setTime(n),T(!0),t.setIsWorking(!0),j("")}(e),function(e){var n=[e].concat(Object(x.a)(D.filter((function(t){return t!==e}))));L(n),t.setHistory(n)}(e)},W=function(){var e=Date.now(),r=[{taskName:v,start:b,end:e,duration:e-b}].concat(Object(x.a)(s));n(r),t.setLogs(r),T(!1),t.setIsWorking(!1),S(""),t.setCurrentTaskName("")},J=function(e){H(e)};return Object(r.jsx)(l.a,{display:"flex",className:"Tracker",children:Object(r.jsxs)(l.a,{display:"flex",flexDirection:"column",children:[Object(r.jsxs)(l.a,{display:"flex",children:["Task: ",v,I?Object(r.jsx)(m.a,{onClick:function(){W()},children:Object(r.jsx)("span",{className:"material-icons",children:"stop"})}):void 0]}),Object(r.jsxs)(l.a,{display:"flex",children:[Object(r.jsx)(h.a,{id:"standard-basic",value:o,onChange:function(e){j(e.target.value)},label:"new task"}),Object(r.jsx)(m.a,{onClick:function(){H(o)},children:"act"})]}),Object(r.jsx)(l.a,{display:"flex",flexDirection:"column",children:D.map((function(e){return Object(r.jsx)(k,{taskName:e,handler:J})}))})]})})}var v={setTime:function(e){localStorage.setItem("time","".concat(e))},getTime:function(){return parseInt(localStorage.getItem("time")||"0")},setCurrentTaskName:function(e){localStorage.setItem("currentTaskName",e)},getCurrentTaskName:function(){return localStorage.getItem("currentTaskName")||""},setIsWorking:function(e){localStorage.setItem("isWorking","".concat(e))},getIsWorking:function(){return"true"===localStorage.getItem("isWorking")},setHistory:function(e){localStorage.setItem("history",JSON.stringify(e))},getHistory:function(){return JSON.parse(localStorage.getItem("history")||"[]")},setLogs:function(e){localStorage.setItem("logs",JSON.stringify(e))},getLogs:function(){return JSON.parse(localStorage.getItem("logs")||"[]")}};function S(){return Object(r.jsx)(l.a,{children:Object(r.jsxs)(l.a,{children:["sink ",Object(r.jsx)(j.b,{to:"/sink/tracker",children:"tracker"})," ",Object(r.jsx)(j.b,{to:"/sink/logs",children:"logs"})]})})}function N(){return Object(r.jsx)(l.a,{children:"ver0.1.2"})}function y(e){return Object(r.jsxs)(l.a,{display:"flex",flexDirection:"column",justifyContent:"space-between",height:"100vh",children:[Object(r.jsx)(S,{}),Object(r.jsx)(l.a,{flexGrow:"1",children:e.inner()}),Object(r.jsx)(N,{})]})}function I(){var e=Object(c.useState)(v.getLogs),t=Object(u.a)(e,2),n=t[0],s=t[1];return Object(r.jsx)(j.a,{children:Object(r.jsx)(c.Suspense,{fallback:Object(r.jsx)("div",{children:"Loading..."}),children:Object(r.jsxs)(f.c,{children:[Object(r.jsx)(f.a,{exact:!0,path:"/sink/tracker",render:function(){return Object(r.jsx)(y,{inner:function(){return Object(r.jsx)(p,{repo:v,setLogs:s,logs:n})}})}}),Object(r.jsx)(f.a,{exact:!0,path:"/sink/logs",render:function(){return Object(r.jsx)(y,{inner:function(){return Object(r.jsx)(d,{logs:n})}})}}),Object(r.jsx)(f.a,{path:"/sink/",render:function(){return Object(r.jsx)(y,{inner:function(){return Object(r.jsx)(p,{repo:v,setLogs:s,logs:n})}})}})]})})})}i.a.render(Object(r.jsx)(s.a.StrictMode,{children:Object(r.jsx)(I,{})}),document.getElementById("root")),o()}},[[70,1,2]]]);
//# sourceMappingURL=main.dad4901c.chunk.js.map